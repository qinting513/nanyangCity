(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-base_apply-comfirm_page"],{"0316":function(e,t,a){"use strict";var i=a("d0ba"),n=a.n(i);n.a},"407f":function(e,t,a){"use strict";a.r(t);var i=a("82ff"),n=a("b6f8");for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("0316");var s,r=a("f0c5"),l=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"0886522a",null,!1,i["a"],s);t["default"]=l.exports},"82ff":function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"comfirm-page"},[a("v-uni-view",{staticClass:"tip"},[e._v(e._s(e.tipString))]),a("v-uni-view",{staticClass:"flex-row base-view"},[a("v-uni-image",{staticClass:"left-img",attrs:{src:e.stateBase?"/static/images/banshi/icon_bs_success.png":"/static/images/banshi/icon_bs_unupload.png",mode:"aspectFit"}}),a("v-uni-view",{staticClass:"base"},[e._v("基本表单")])],1),a("v-uni-view",{staticClass:"materials",style:[e.materialStyle]},e._l(e.materialList,(function(t,i){return a("v-uni-view",{key:i,staticClass:"cell"},[a("v-uni-view",{staticClass:"flex-row top"},[a("v-uni-image",{staticClass:"left-img",attrs:{src:null!=e.uploadMaterialsNum[t.ID]&&e.uploadMaterialsNum[t.ID]["uploaded"]>0?"/static/images/banshi/icon_bs_success.png":"/static/images/banshi/icon_bs_unupload.png",mode:"aspectFit"}}),a("v-uni-view",{staticClass:"title"},[e._v(e._s(t.CLMC))])],1)],1)})),1),a("v-uni-view",{staticClass:"flex-row bottom-btns"},[a("v-uni-view",{staticClass:"pre",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pre.apply(void 0,arguments)}}},[e._v("上一步")]),a("v-uni-view",{staticClass:"tempstore",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.tempStore.apply(void 0,arguments)}}},[e._v("暂存")]),a("v-uni-view",{staticClass:"next",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.apply.apply(void 0,arguments)}}},[e._v("申报")])],1)],1)},o=[]},"857f":function(e,t,a){"use strict";var i=a("4ea4");a("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i(a("33b4")),i(a("95c1")),i(a("cbf0"));var n=a("2f62"),o={name:"ComfirmPage",props:{pageHeight:{type:Number}},data:function(){return{tipString:"温馨提示：有绿色打勾标识的材料表示编辑正确，有叹号标识的材料需要返回重新编辑。",materialStyle:{},stateBase:!0,materialsNumber:{}}},computed:(0,n.mapState)(["applyItemInfo","userInfo","businessModel","formsModel","materialsModel","postModel","materialList","uploadMaterialsNum"]),mounted:function(){this.pageHeight>0?(this.materialStyle={height:this.pageHeight-120+"px"},console.log("materialStyle:",this.materialStyle)):(this.materialStyle={height:"600px"},console.log("other materialStyle:",this.materialStyle))},methods:{pre:function(){this.$emit("pre",{page:"ComfirmPage"})},tempStore:function(){this.$emit("tempStore",{page:"ComfirmPage"})},apply:function(){this.$emit("apply",{page:"ComfirmPage"})}}};t.default=o},"91ff":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.bottom-btns[data-v-0886522a]{position:fixed;z-index:9999;bottom:0;left:0;right:0;height:%?100?%;width:100vw;text-align:center;line-height:%?100?%}.bottom-btns .pre[data-v-0886522a]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#0072ff;background-color:#fff;position:relative}.bottom-btns .pre[data-v-0886522a]:after{content:"";position:absolute;top:%?24?%;right:0;bottom:%?24?%;width:1px;margin:auto 0;background-color:#ddd;overflow:hidden}.bottom-btns .tempstore[data-v-0886522a]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#0072ff;background-color:#fff}.bottom-btns .next[data-v-0886522a]{-webkit-box-flex:1;-webkit-flex:1;flex:1;background-color:#0072ff;color:#fff}.tip[data-v-0886522a]{padding:%?20?% %?30?%;color:#ff5200;background-color:#fdf9ee;font-size:%?24?%}.base-view[data-v-0886522a]{margin-top:%?16?%;padding:%?20?% %?30?% %?30?% %?30?%;background-color:#fff}.left-img[data-v-0886522a]{width:%?30?%;height:%?30?%;margin-right:%?10?%;-webkit-flex-shrink:0;flex-shrink:0}.materials[data-v-0886522a]{margin-top:%?16?%;background-color:#fff;overflow-y:scroll}.materials .cell[data-v-0886522a]{border-bottom:%?1?% solid #f0f0f0;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;padding:%?20?% %?30?% %?30?% %?30?%}.materials .cell .top[data-v-0886522a]{-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;font-size:%?30?%;color:#333}',""]),e.exports=t},"95c1":function(e,t,a){"use strict";var i=a("4ea4");a("d3b7");var n=i(a("b8bb")),o=i(a("33b4")),s=i(a("cbf0"));function r(e){return new Promise((function(t,a){var i={PERMID:e};console.log("获取材料列表"),n.default.soup(o.default.url_base_apply_get_materail,o.default.method_base_apply_get_materail,i).then((function(e){t(e)})).catch((function(e){a(e)}))}))}function l(e){return new Promise((function(t,a){var i={PERMID:e,ENTERANCE:"1"};n.default.soup(o.default.url_base_apply_get_materail,o.default.method_base_apply_get_getFormByPermidV2,i).then((function(e){t(e)})).catch((function(e){a(e)}))}))}function u(e,t){return new Promise((function(a,i){var s={token:e,BSNUM:t};n.default.soup(o.default.url_submit_apply,o.default.method_base_apply_getwebhallbusiness,s).then((function(e){a(e)})).catch((function(e){i(e)}))}))}function d(e,t){return new Promise((function(a,i){var r={token:e,BSNUM:t};n.default.soup(o.default.url_submit_apply,o.default.method_base_apply_getInsFormData,r).then((function(e){if(200==e["code"]&&null!=e["ReturnValue"]){var t=e["ReturnValue"],i=t["FORMS"],n=s.default.base64Decode(i);a(s.default.formDealWithData(n))}})).catch((function(e){i(e)}))}))}function f(e,t){return new Promise((function(a,i){var r={token:e,BSNUM:t};n.default.soup(o.default.url_submit_apply,o.default.method_base_apply_getInsMaterialInfo,r).then((function(e){if(200==e["code"]&&null!=e["ReturnValue"]){var t=e["ReturnValue"],i=t["MATERIALS"],n=s.default.base64Decode(i);a(s.default.materialDealWithData(n))}})).catch((function(e){i(e)}))}))}function c(e){return new Promise((function(t,a){var i={PERMID:e};n.default.soup(o.default.url_permname_list,o.default.mothod_getPermWsfwsd,i).then((function(e){t(e)})).catch((function(e){a(e)}))}))}function m(e){return new Promise((function(t,a){var i={PERMID:e};n.default.soup(o.default.url_organization,o.default.mothod_getNetworkByPermid,i).then((function(e){t(e)})).catch((function(e){a(e)}))}))}function p(e,t){return new Promise((function(a,i){var s={PERMID:e};null!=t&&(s["BSNUM"]=t),n.default.soup(o.default.url_department,o.default.mothod_getRegionByPermidBsnum,s).then((function(e){a(e)})).catch((function(e){i(e)}))}))}function g(e){return new Promise((function(t,a){var i={PAGESIZE:"20",PAGENO:"1",USERID:e};n.default.soup(o.default.url_reset_address_service_query,o.default.mothod_getUserPostInfo,i).then((function(e){t(e)})).catch((function(e){a(e)}))}))}function b(e){return new Promise((function(t,a){console.log("申报参数:",e),n.default.soup(o.default.url_submit_apply,o.default.method_submit_apply,e).then((function(e){t(e)})).catch((function(e){a(e)}))}))}function v(e,t,a){var i='<?xml version="1.0" encoding="UTF-8"?><business><businessid><![CDATA['+(t.bsnum||"")+"]]></businessid><cbusinessid><![CDATA["+(t.bsnum||"")+"]]></cbusinessid><citemid><![CDATA["+(t.citemid||"")+"]]></citemid><citemversion><![CDATA["+(t.citemversion||"")+"]]></citemversion><permid><![CDATA["+(t.permId||"")+"]]></permid><largeitemid><![CDATA["+(t.largeitemid||"")+"]]></largeitemid><smallitemid><![CDATA["+(t.smallitemid||"")+"]]></smallitemid><smallitemname><![CDATA["+(t.smallitemname||"")+"]]></smallitemname><itemversion><![CDATA["+(t.itemversion||"")+"]]></itemversion><itemlimittime><![CDATA["+(t.itemlimittime||"")+"]]></itemlimittime><itemlimitunit><![CDATA["+(t.itemlimitunit||"")+"]]></itemlimitunit><regionid><![CDATA["+(t.regionid||"")+"]]></regionid><deptcode><![CDATA["+(t.deptcode||"")+"]]></deptcode><deptname><![CDATA["+(t.deptname||"")+"]]></deptname><projectname><![CDATA["+(t.projectname||"")+"]]></projectname><receiptid><![CDATA["+(t.bsnum||"")+"]]></receiptid><submittype><![CDATA[5]]></submittype><lawaddr><![CDATA["+(t.lawaddr||"")+"]]></lawaddr><realaddr><![CDATA["+(t.realaddr||"")+"]]></realaddr><status><![CDATA["+String(e)+"]]></status><applicantid><![CDATA["+(a.USER_ID||"")+"]]></applicantid><state>5</state><sqr_type><![CDATA["+(a.TYPE||"")+"]]></sqr_type></business>";return console.log("business 数据:",i),s.default.base64Encode(s.default.utf16to8(i))}function h(e){return null==e?"":s.default.base64Encode(s.default.utf16to8(e))}function A(e){var t='<?xml version="1.0" encoding="UTF-8"?><forms><data><dataid>'+(e.dataid||"")+"</dataid><formtype>"+(e.formtype||"")+"</formtype><pid>"+(e.pid||"")+"</pid><bsnum>"+(e.bsnum||"")+"</bsnum><formid>"+(e.formid||"")+'</formid><version></version><sqr_mc type="TEXTINPUT"><![CDATA['+(e.sqrmc||"")+']]></sqr_mc><sqr_yddh type="TEXTINPUT"><![CDATA['+(e.sqryddh||"")+']]></sqr_yddh><sqr_sfzjhm type="TEXTINPUT"><![CDATA['+(e.sqrsfzjhm||"")+']]></sqr_sfzjhm><sqr_dzxx type="TEXTINPUT"><![CDATA['+(e.sqrdzxx||"")+']]></sqr_dzxx><sqr_gddh type="TEXTINPUT"><![CDATA['+(e.sqrgddh||"")+']]></sqr_gddh><sqr_gddz type="TEXTINPUT"><![CDATA['+(e.sqrgddz||"")+']]></sqr_gddz><sqxmmc type="TEXTINPUT"><![CDATA['+(e.sqxmmc||"")+']]></sqxmmc><zjlx type="COMBOBOX"><![CDATA['+(e.zjlx||"")+']]></zjlx><bz type="TEXTINPUT"><![CDATA['+(e.bz||"")+"]]></bz></data></forms>";return console.log("form 数据:",t),s.default.base64Encode(s.default.utf16to8(t))}function _(e,t,a){for(var i='<?xml version="1.0" encoding="UTF-8"?><materials>',n=0;n<e.length;n++){var o=e[n];if(i+="<materialinfo><id><![CDATA[]]></id><materialid><![CDATA["+(o.ID||"")+"]]></materialid><materialname><![CDATA["+(o.CLMC||"")+"]]></materialname><materialcode><![CDATA["+(o.ID||"")+"]]></materialcode><submittype><![CDATA["+(o.DZHYQ||"")+"]]></submittype><orinum><![CDATA[]]></orinum><copynum><![CDATA[]]></copynum><isneed><![CDATA["+(o.SFBY||"")+"]]></isneed><status><![CDATA["+(o.STATUS||"")+"]]></status><formid><![CDATA[]]></formid><formver><![CDATA[]]></formver><dataid><![CDATA[]]></dataid><remark><![CDATA[]]></remark><username><![CDATA["+(a.realName||"")+"]]></username>",null!=t){var r=t[o.ID];if(null!=r&&r.length>0)for(var l in r){var u=r[l];i+="<file>",i+="<fileid><![CDATA["+u["fileid"]+"]]></fileid><filename><![CDATA["+u["filename"]+"]]></filename><filepath><![CDATA["+u["filepath"]+"]]></filepath><filedel><![CDATA["+u["filedel"]+"]]></filedel>",i+="</file>"}}i+="</materialinfo>"}return i+="</materials>",console.log("material 数据:",i),s.default.base64Encode(s.default.utf16to8(i))}e.exports={getMaterialList:r,getFormByPermidV2:l,getWebhallbusiness:u,getInsFormData:d,getInsMaterialInfo:f,getPermWsfwsd:c,getRegionByPermidBsnum:p,getNetworkByPermid:m,getUserPostInfo:g,getPostXmlData:h,tempStore:b,getBusinessXml:v,getFormXml:A,getMaterialXml:_}},b6f8:function(e,t,a){"use strict";a.r(t);var i=a("857f"),n=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},b8bb:function(e,t,a){"use strict";var i=a("4ea4");a("c975"),a("d3b7");var n=i(a("cbf0")),o=i(a("43a3")),s='<?xml version="1.0" encoding="utf-8"?>',r='<soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">',l="<soap:Body>",u="</soap:Body>",d="</soap:Envelope>";function f(e,t,a,i){return uni.showLoading({title:"数据加载中..."}),new Promise((function(o,f){null!=i&&""!=i||(i="POST");var p="<"+t+' xmlns:n0="http://service.rest2.cms.jeecms.com/"><param>'+JSON.stringify(a)+"</param></"+t+">",g=s+r+l+p+u+d;uni.request({url:e,data:g,method:i,header:{"content-type":"text/xml; charset=utf-8",SOAPAction:t},success:function(t){if(200===t.statusCode){var a=c(t.data),i=JSON.parse(a);n.default.checkResponse(i),o(i)}else console.log("请求参数:",e,g),m("错误码："+t.statusCode+"\n\t  错误信息："+t.data);uni.hideLoading()},fail:function(e){uni.hideLoading(),f(e)}})}))}function c(e){for(var t=new o.default.DOMParser,a=t.parseFromString(e,"text/xml"),i=a.getElementsByTagName("soap:Body")[0],n=i.childNodes,s=i.childNodes.length,r=0;r<s;r++)if(n[r].nodeName.indexOf("Response")>=0)for(var l=n[r].childNodes,u=0;u<l.length;u++)if(l[u].nodeName.indexOf("return")>=0)return l[u].childNodes[0].nodeValue;return""}function m(e){console.log("--------------------------我是错误分割线--------------------------"),uni.showModal({title:"提示",content:"服务请求异常"}),console.log("服务请求异常:",e),console.log("--------------------------我是错误分割线--------------------------")}e.exports={soup:f}},d0ba:function(e,t,a){var i=a("91ff");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("de7ce120",i,!0,{sourceMap:!1,shadowMode:!1})}}]);